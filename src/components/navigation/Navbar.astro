---
import Wrapper from "../Wrapper.astro";
import Link from "./Link.astro";
import Logo from "../Logo.astro";

const routes = [
  { name: "¿Quiénes somos?", path: "/" },
  { name: "Servicios", path: "/services" },
  { name: "Blog", path: "/blog" },
  { name: "Contacto", path: "/contact" },
];
---

<nav
  id="navbar"
  data-overlap="false"
  class:list={[
    "flex items-center px-6 py-4",
    "transition-all ease-in-out duration-500",
    "fixed top-0 right-0 left-0 z-10",
    "bg-white data-[overlap=false]:bg-transparent",
    "border-b border-gray-900",
    "data-[overlap=false]:border-transparent",
  ]}
>
  <Logo />
  <ul class="gap-10
  hidden
  lg:flex">
    {
      routes.map((route) => (
        <li>
          <Link to="{route.path}">{route.name}</Link>
        </li>
      ))
    }
  </ul>

  <script>
    const navbar = document.getElementById("navbar");
    const showNavbarBorder = () => {
      if (navbar === null) return;
      navbar.attributes["data-overlap"].value =
        window.scrollY > navbar.getBoundingClientRect().height
          ? "true"
          : "false";
    };
    window.addEventListener("scroll", showNavbarBorder);
    showNavbarBorder();
  </script>
</nav>
